<%- include('./partials/header') %>
<main class="p-28 flex flex-col justify-center items-center">

  <div class="max-w-2xl mx-auto bg-white shadow-md rounded-lg overflow-hidden">
    <div class="p-4 flex relative justify-center">
      <form action="/users/userupload" hidden id="uploadform" method="post" enctype="multipart/form-data">
        <input type="file" name="image">
      </form>
        <header class="mb-6 relative">
          <img src="data:image/jpeg;base64,<%= user.picture.toString('base64') %>" alt="<%= user.fullname %>" class="bg-zinc-300 w-32 h-32 rounded-full object-cover">
          <span id="uploadicon" class="absolute bottom-0 right-0 h-8 w-8 rounded-full bg-zinc-300 flex items-center justify-center"><i class="ri-pencil-line cursor-pointer"></i></span>
        </header>
    </div>
    <div class="p-4">
      <h2 class="text-2xl font-bold mb-2 text-center"><%= user.fullname %></h2>
      <p class="text-gray-700 mb-2"><strong>Email:</strong> <%= user.email %></p>
      <p class="text-gray-700 mb-2"><strong>Contact:</strong> +<%= user.contact %></p>
      <p class="text-gray-700 mb-2"><strong>Address:</strong></p>
      <div class="ml-4">
        <p class="text-gray-700 mb-1">
          <strong>Village:</strong> <%= user.address.village %>
          <strong class="ml-4">Post:</strong> <%= user.address.post %>
        </p>
        <p class="text-gray-700 mb-1"> 
          <strong>District:</strong> <%= user.address.district %>
          <strong class="ml-4">State:</strong> <%= user.address.state %>
        </p>
      </div>
      <p class="text-gray-700 mb-2"><strong>Date Joined:</strong> <%= new Date(user.date).toLocaleDateString() %></p>
    </div>
    
  </div>
</main>

<script>
  document.querySelector("#uploadicon").addEventListener("click",()=>{
    document.querySelector("#uploadform input").click();
  });

  document.querySelector("#uploadform input").addEventListener("change",()=>{
    document.querySelector("#uploadform").submit();
  })
</script>

<%- include('./partials/footer') %>
